@tailwind components;
@tailwind utilities;

/* ============================================
   HERMES STYLES - All variables consolidated
   ============================================ */

/* Tailwind utility classes */
@layer utilities {
  /* Layout utilities */
  .hermes-footer-bg { background-color: var(--hermes-footer-bg); }
  .hermes-header-bg { background-color: var(--hermes-header-bg); }
  .hermes-header-bg-listening { background-color: var(--hermes-header-bg-listening); }
  .hermes-footer-bg-listening { background-color: var(--hermes-footer-bg-listening); }
  
  /* Message utilities */
  .hermes-user-msg-bg { background-color: var(--hermes-user-msg-bg); }
  .hermes-user-msg-text { color: var(--hermes-user-msg-text); }
  .hermes-hermes-msg-bg { background-color: var(--hermes-hermes-msg-bg); }
  .hermes-hermes-msg-text { color: var(--hermes-hermes-msg-text); }
  .hermes-system-msg-bg { background-color: var(--hermes-system-msg-bg); }
  .hermes-system-msg-text { color: var(--hermes-system-msg-text); }
  
  /* System message type colors - hardcoded for reliability */
  .hermes-system-error-bg { background-color: rgba(239, 68, 68, 0.25) !important; }
  .hermes-system-error-text { color: #ef4444 !important; }
  .hermes-system-warning-bg { background-color: rgba(245, 158, 11, 0.2) !important; }
  .hermes-system-warning-text { color: #f59e0b !important; }
  .hermes-system-success-bg { background-color: rgba(16, 185, 129, 0.2) !important; }
  .hermes-system-success-text { color: #10b981 !important; }
  .hermes-system-info-bg { background-color: rgba(59, 130, 246, 0.2) !important; }
  .hermes-system-info-text { color: #3b82f6 !important; }
  
  /* Remove spacing between system messages */
  .hermes-root .space-y-6 > [role="system"] + [role="system"] {
    margin-top: 0 !important;
  }
  
  /* Text utilities */
  .hermes-text-normal { color: var(--hermes-text-normal); }
  .hermes-text-muted { color: var(--hermes-text-muted); }
  .hermes-text-faint { color: var(--hermes-text-faint); }
  .hermes-text-accent { color: var(--hermes-text-accent); }
  
  /* Status utilities */
  .hermes-success { color: #10b981; }
  .hermes-success-bg { background-color: #10b981; }
  .hermes-warning { color: #f59e0b; }
  .hermes-warning-bg { background-color: #f59e0b; }
  .hermes-error { color: #ef4444; }
  .hermes-error-bg { background-color: #ef4444; }
  .hermes-info { color: #3b82f6; }
  .hermes-info-bg { background-color: #3b82f6; }
  
  /* Interactive utilities */
  .hermes-interactive-bg { background-color: var(--hermes-interactive); }
  
  /* Hover utilities - BLUE (hermes-hover: prefix) */
  .hermes-hover\:bg-secondary\/5:hover { background-color: rgba(59, 130, 246, 0.05) !important; }
  .hermes-hover\:bg-secondary\/10:hover { background-color: rgba(59, 130, 246, 0.1) !important; }
  .hermes-hover\:bg-secondary\/20:hover { background-color: rgba(59, 130, 246, 0.2) !important; }
  .hermes-hover\:bg-secondary\/50:hover { background-color: rgba(59, 130, 246, 0.5) !important; }
  .hermes-hover\:border\/10:hover { border-color: rgba(59, 130, 246, 0.1) !important; }
  .hermes-hover\:border\/20:hover { border-color: rgba(59, 130, 246, 0.2) !important; }
  .hermes-hover\:text-normal:hover { color: #3b82f6 !important; }
  .hermes-hover\:interactive-bg:hover { background-color: rgba(59, 130, 246, 0.1) !important; }
  .hermes-hover\:error-bg\/20:hover { background-color: rgba(239, 68, 68, 0.2) !important; }
  .hermes-hover\:accent:hover { color: var(--hermes-text-accent) !important; }
  
  /* Border utilities */
  .hermes-border-b { border-bottom: 1px solid var(--hermes-border); }
  .hermes-border-t { border-top: 1px solid var(--hermes-border); }
  .hermes-border\/10 { border-color: rgba(100, 116, 139, 0.1); }
  .hermes-border\/20 { border-color: rgba(100, 116, 139, 0.2); }
}

/* CSS Variables for Obsidian integration */
.hermes-root {
  /* Primary backgrounds */
  --hermes-bg-primary: var(--background-primary, #1e1e1e);
  --hermes-bg-secondary: var(--background-secondary, #252525);
  --hermes-bg-secondary-alt: var(--background-secondary-alt, #2a2a2a);
  --hermes-bg-tertiary: var(--background-tertiary, #303030);
  
  /* Text colors */
  --hermes-text-normal: var(--text-normal, #e0e0e0);
  --hermes-text-muted: var(--text-muted, #999999);
  --hermes-text-faint: var(--text-faint, #666666);
  --hermes-text-accent: var(--text-accent, #7c3aed);
  
  /* Brand color */
  --hermes-brand: #6366f1;
  
  /* Borders */
  --hermes-border: var(--background-modifier-border, #404040);
  
  /* Interactive */
  --hermes-interactive: var(--interactive-normal, #484848);
  --hermes-interactive-hover: var(--interactive-hover, #585858);
  --hermes-interactive-accent: var(--interactive-accent, #7c3aed);
  
  /* Header/Footer/Input */
  --hermes-header-bg: var(--titlebar-background, var(--background-secondary-alt, #2a2a2a));
  --hermes-footer-bg: var(--background-secondary-alt, #2a2a2a);
  --hermes-header-bg-listening: var(--hermes-brand, #6366f1);
  --hermes-footer-bg-listening: var(--hermes-brand, #6366f1);
  --hermes-input-bg: var(--background-primary, #1e1e1e);
  --hermes-input-text: var(--text-normal, #e0e0e0);
  --hermes-input-border: var(--background-modifier-border, #404040);
  --hermes-input-border-focus: var(--interactive-accent, #7c3aed);
  
  /* Message colors */
  --hermes-user-msg-bg: var(--hermes-brand, #6366f1);
  --hermes-user-msg-text: var(--text-on-accent, #ffffff);
  --hermes-hermes-msg-bg: var(--background-primary, #1e1e1e);
  --hermes-hermes-msg-text: var(--text-normal, #e0e0e0);
  --hermes-system-msg-bg: var(--background-modifier-form-field, #303030);
  --hermes-system-msg-text: var(--text-muted, #999999);
  
  /* Base styles */
  background-color: var(--background-secondary, #252525);
  color: var(--text-normal, #e0e0e0);
  font-family: var(--font-text, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif);
  height: 100%;
}

/* Obsidian view container */
.hermes-voice-assistant, 
[data-type="hermes-voice-assistant"] .view-content {
  margin: 0;
  padding: 0;
}

/* Standalone mode (outside Obsidian) */
.hermes-root.standalone {
  background-color: #1e1e1e;
  color: #e0e0e0;
}

/* Glass panel effect */
.hermes-root .glass-panel {
  background: var(--background-secondary-alt, #2a2a2a);
  border: 1px solid var(--background-modifier-border, #404040);
}

.hermes-root.standalone .glass-panel {
  background: rgba(30, 30, 30, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Custom scrollbar */
.hermes-root .log-container::-webkit-scrollbar {
  width: 6px;
}

.hermes-root .log-container::-webkit-scrollbar-thumb {
  background-color: rgba(255, 255, 255, 0.2);
  border-radius: 10px;
}

/* Loading dots animation for web tasks */
@keyframes loading-dot-bounce {
  0%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-4px);
  }
}

.loading-dots-container {
  display: flex;
  align-items: center;
  gap: 2px;
}

.loading-dot {
  width: 3px;
  height: 3px;
  border-radius: 50%;
  background-color: currentColor;
  animation: loading-dot-bounce 1.4s infinite ease-in-out both;
}

.loading-dot:nth-child(1) {
  animation-delay: -0.32s;
}

.loading-dot:nth-child(2) {
  animation-delay: -0.16s;
}

.loading-dot:nth-child(3) {
  animation-delay: 0s;
}

/* Force text selection to work in chat messages */
.hermes-root .hermes-user-msg-bg,
.hermes-root .hermes-hermes-msg-bg,
.hermes-root .hermes-system-msg-bg,
.hermes-root .prose,
.hermes-root .prose * {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}

.hermes-root .prose p,
.hermes-root .prose h1,
.hermes-root .prose h2,
.hermes-root .prose h3,
.hermes-root .prose h4,
.hermes-root .prose h5,
.hermes-root .prose h6,
.hermes-root .prose li,
.hermes-root .prose blockquote,
.hermes-root .prose code,
.hermes-root .prose pre {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
}
